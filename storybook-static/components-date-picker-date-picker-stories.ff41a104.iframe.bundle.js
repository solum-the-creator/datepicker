"use strict";(self.webpackChunkdatepicker=self.webpackChunkdatepicker||[]).push([[743],{"./src/components/date-picker/date-picker.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DatePickerDefault:()=>DatePickerDefault,__namedExportsOrder:()=>__namedExportsOrder,default:()=>date_picker_stories});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/react/index.js"),calendar=__webpack_require__("./src/components/calendar/index.tsx");const CalendarIcon=({size="16"})=>(0,jsx_runtime.jsx)("svg",{width:size,height:size,viewBox:`0 0 ${size} ${size}`,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,jsx_runtime.jsx)("path",{d:"M7.2 9.59999C6.97333 9.59999 6.78347 9.52319 6.6304 9.36959C6.4768 9.21652 6.4 9.02666 6.4 8.79999C6.4 8.57332 6.4768 8.38319 6.6304 8.22959C6.78347 8.07652 6.97333 7.99999 7.2 7.99999C7.42667 7.99999 7.6168 8.07652 7.7704 8.22959C7.92347 8.38319 8 8.57332 8 8.79999C8 9.02666 7.92347 9.21652 7.7704 9.36959C7.6168 9.52319 7.42667 9.59999 7.2 9.59999ZM4 9.59999C3.77333 9.59999 3.5832 9.52319 3.4296 9.36959C3.27653 9.21652 3.2 9.02666 3.2 8.79999C3.2 8.57332 3.27653 8.38319 3.4296 8.22959C3.5832 8.07652 3.77333 7.99999 4 7.99999C4.22667 7.99999 4.4168 8.07652 4.5704 8.22959C4.72347 8.38319 4.8 8.57332 4.8 8.79999C4.8 9.02666 4.72347 9.21652 4.5704 9.36959C4.4168 9.52319 4.22667 9.59999 4 9.59999ZM10.4 9.59999C10.1733 9.59999 9.98347 9.52319 9.8304 9.36959C9.6768 9.21652 9.6 9.02666 9.6 8.79999C9.6 8.57332 9.6768 8.38319 9.8304 8.22959C9.98347 8.07652 10.1733 7.99999 10.4 7.99999C10.6267 7.99999 10.8165 8.07652 10.9696 8.22959C11.1232 8.38319 11.2 8.57332 11.2 8.79999C11.2 9.02666 11.1232 9.21652 10.9696 9.36959C10.8165 9.52319 10.6267 9.59999 10.4 9.59999ZM7.2 12.8C6.97333 12.8 6.78347 12.7232 6.6304 12.5696C6.4768 12.4165 6.4 12.2267 6.4 12C6.4 11.7733 6.4768 11.5835 6.6304 11.4304C6.78347 11.2768 6.97333 11.2 7.2 11.2C7.42667 11.2 7.6168 11.2768 7.7704 11.4304C7.92347 11.5835 8 11.7733 8 12C8 12.2267 7.92347 12.4165 7.7704 12.5696C7.6168 12.7232 7.42667 12.8 7.2 12.8ZM4 12.8C3.77333 12.8 3.5832 12.7232 3.4296 12.5696C3.27653 12.4165 3.2 12.2267 3.2 12C3.2 11.7733 3.27653 11.5835 3.4296 11.4304C3.5832 11.2768 3.77333 11.2 4 11.2C4.22667 11.2 4.4168 11.2768 4.5704 11.4304C4.72347 11.5835 4.8 11.7733 4.8 12C4.8 12.2267 4.72347 12.4165 4.5704 12.5696C4.4168 12.7232 4.22667 12.8 4 12.8ZM10.4 12.8C10.1733 12.8 9.98347 12.7232 9.8304 12.5696C9.6768 12.4165 9.6 12.2267 9.6 12C9.6 11.7733 9.6768 11.5835 9.8304 11.4304C9.98347 11.2768 10.1733 11.2 10.4 11.2C10.6267 11.2 10.8165 11.2768 10.9696 11.4304C11.1232 11.5835 11.2 11.7733 11.2 12C11.2 12.2267 11.1232 12.4165 10.9696 12.5696C10.8165 12.7232 10.6267 12.8 10.4 12.8ZM1.6 16C1.16 16 0.7832 15.8435 0.4696 15.5304C0.156533 15.2168 0 14.84 0 14.4V3.19999C0 2.75999 0.156533 2.38346 0.4696 2.07039C0.7832 1.75679 1.16 1.59999 1.6 1.59999H2.4V-1.04904e-05H4V1.59999H10.4V-1.04904e-05H12V1.59999H12.8C13.24 1.59999 13.6168 1.75679 13.9304 2.07039C14.2435 2.38346 14.4 2.75999 14.4 3.19999V14.4C14.4 14.84 14.2435 15.2168 13.9304 15.5304C13.6168 15.8435 13.24 16 12.8 16H1.6ZM1.6 14.4H12.8V6.39999H1.6V14.4Z",fill:"#AAAAAA"})});CalendarIcon.__docgenInfo={description:"",methods:[],displayName:"CalendarIcon",props:{size:{defaultValue:{value:'"16"',computed:!1},required:!1}}};const CloseIcon=({size="16"})=>(0,jsx_runtime.jsx)("svg",{width:size,height:size,viewBox:`0 0 ${size} ${size}`,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,jsx_runtime.jsx)("path",{d:"M12.9872 3.04239C10.2573 0.319202 5.77739 0.319202 3.04745 3.04239C0.317516 5.76559 0.317516 10.2344 3.04745 12.9576C5.77739 15.6808 10.1873 15.6808 12.9172 12.9576C15.6471 10.2344 15.7171 5.76559 12.9872 3.04239ZM9.97728 10.9327L8.01733 8.97756L6.05738 10.9327L5.0774 9.95511L7.03735 8L5.0774 6.04489L6.05738 5.06733L8.01733 7.02244L9.97728 5.06733L10.9573 6.04489L8.99731 8L10.9573 9.95511L9.97728 10.9327Z",fill:"#AAAAAA"})});CloseIcon.__docgenInfo={description:"",methods:[],displayName:"CloseIcon",props:{size:{defaultValue:{value:'"16"',computed:!1},required:!1}}};var global=__webpack_require__("./src/styles/global.ts"),theme=__webpack_require__("./src/styles/theme.ts"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");const ThemeWrapper=({children})=>(0,jsx_runtime.jsxs)(styled_components_browser_esm.NP,{theme:theme.w,children:[(0,jsx_runtime.jsx)(global.A,{}),children]});ThemeWrapper.__docgenInfo={description:"",methods:[],displayName:"ThemeWrapper"};const formatDate=date=>`${String(date.getDate()).padStart(2,"0")}.${String(date.getMonth()+1).padStart(2,"0")}.${date.getFullYear()}`,InputContainer=styled_components_browser_esm.Ay.div`
  width: 100%;
  max-width: 250px;
  display: flex;
  align-items: center;

  gap: 0.5rem;

  border: 1px solid;
  border-radius: 0.5rem;
  padding: 0.8rem 1rem;

  border-color: ${({theme,$isError})=>$isError?theme.colors.red:theme.colors.border};

  &:focus-within {
    border: 1px solid ${({$isError,theme})=>$isError?theme.colors.red:theme.colors.primary};
  }
`,Input=styled_components_browser_esm.Ay.input`
  width: 100%;
  font-size: 1rem;
  border: none;

  font-size: 15px;
  color: ${({theme})=>theme.colors.secondary};

  &:focus {
    outline: none;
  }
`,ClearButton=styled_components_browser_esm.Ay.button`
  display: flex;
  align-items: center;
  justify-content: center;
`,IconContainer=styled_components_browser_esm.Ay.div`
  width: 1rem;
  height: 1rem;
  display: flex;
  align-items: center;
  justify-content: center;
`,DateInput=({value,isError,onChange,onFocus,onClear})=>(0,jsx_runtime.jsx)(ThemeWrapper,{children:(0,jsx_runtime.jsxs)(InputContainer,{$isError:isError,children:[(0,jsx_runtime.jsx)(IconContainer,{children:(0,jsx_runtime.jsx)(CalendarIcon,{})}),(0,jsx_runtime.jsx)(Input,{type:"text",placeholder:"Choose date",autoComplete:"off",onChange:e=>{const formattedValue=(value=>{const numericValue=value.replace(/\D/g,"");return numericValue.length<=2?numericValue:numericValue.length<=4?`${numericValue.slice(0,2)}.${numericValue.slice(2)}`:`${numericValue.slice(0,2)}.${numericValue.slice(2,4)}.${numericValue.slice(4)}`})(e.target.value);onChange?.({...e,target:{...e.target,value:formattedValue}})},onFocus,value}),value&&(0,jsx_runtime.jsx)(ClearButton,{onClick:onClear,children:(0,jsx_runtime.jsx)(CloseIcon,{})})]})});DateInput.__docgenInfo={description:"",methods:[],displayName:"DateInput"};var dateHelpers=__webpack_require__("./src/utils/dateHelpers.ts");const CalendarContainer=styled_components_browser_esm.Ay.div`
  position: absolute;
`,PickerContainer=styled_components_browser_esm.Ay.div`
  position: relative;
`;const CalendarWithPickerLogic=function withPickerLogic(WrappedComponent){return props=>{const{value,onSelect,minDate,maxDate,...rest}=props,[isCalendarOpen,setIsCalendarOpen]=(0,react.useState)(!1),[inputValue,setInputValue]=(0,react.useState)(value?formatDate(value):""),[isError,setIsError]=(0,react.useState)(!1),pickerRef=(0,react.useRef)(null);(0,react.useEffect)((()=>{const handleClickOutside=e=>{pickerRef.current&&!pickerRef.current.contains(e.target)&&setIsCalendarOpen(!1)};return document.addEventListener("mousedown",handleClickOutside),()=>{document.removeEventListener("mousedown",handleClickOutside)}}),[]);return(0,jsx_runtime.jsxs)(PickerContainer,{ref:pickerRef,children:[(0,jsx_runtime.jsx)(DateInput,{value:inputValue,onChange:e=>{const input=e.target.value;if(setInputValue(input),input.length>=10){const parsedDate=(dateString=>{const parts=dateString.split(".");if(3!==parts.length)return null;const day=parseInt(parts[0]??"",10),month=parseInt(parts[1]??"",10)-1,year=parseInt(parts[2]??"",10),date=new Date(year,month,day);return date.getDate()===day?date:null})(input);parsedDate&&(0,dateHelpers.xR)(parsedDate,minDate,maxDate)?(setIsError(!1),onSelect?.(parsedDate)):setIsError(!0)}else setIsError(!1)},onFocus:()=>{setIsCalendarOpen(!0)},onClear:()=>{setIsCalendarOpen(!1),setIsError(!1),setInputValue(""),onSelect?.(void 0)},isError}),isCalendarOpen&&(0,jsx_runtime.jsx)(CalendarContainer,{children:(0,jsx_runtime.jsx)(WrappedComponent,{...rest,value,onSelect:date=>{setInputValue(formatDate(date)),setIsCalendarOpen(!1),onSelect?.(date)},minDate,maxDate})})]})}}((0,__webpack_require__("./src/components/hoc/withCalendarLogic.tsx").l)(calendar.V)),BaseCalendarWithPicker=()=>{const[value,setValue]=(0,react.useState)(void 0);return(0,jsx_runtime.jsx)(CalendarWithPickerLogic,{value,onSelect:setValue,startWeekOnSunday:!1,highlightHolidays:!0,highlightWeekends:!0,minDate:new Date(2024,8,1),maxDate:new Date(2024,10,20)})};BaseCalendarWithPicker.__docgenInfo={description:"",methods:[],displayName:"BaseCalendarWithPicker"};const date_picker_stories={title:"Components/DatePicker",component:BaseCalendarWithPicker},DatePickerDefault=(args=>(0,jsx_runtime.jsx)(BaseCalendarWithPicker,{...args})).bind({});DatePickerDefault.args={minDate:new Date(2024,0,1),maxDate:new Date(2024,11,31),highlightHolidays:!0,highlightWeekends:!0,startWeekOnSunday:!0};const __namedExportsOrder=["DatePickerDefault"];DatePickerDefault.parameters={...DatePickerDefault.parameters,docs:{...DatePickerDefault.parameters?.docs,source:{originalSource:"args => <BaseCalendarWithPicker {...args} />",...DatePickerDefault.parameters?.docs?.source}}}},"./src/components/hoc/withCalendarLogic.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{l:()=>withCalendarLogic});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_utils_dateHelpers__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/utils/dateHelpers.ts");function withCalendarLogic(WrappedComponent){return props=>{const{value,onSelect,minDate,maxDate,...rest}=props,currentDate=value||new Date,[currentMonth,setCurrentMonth]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(currentDate.getMonth()),[currentYear,setCurrentYear]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(currentDate.getFullYear());(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{setCurrentMonth(currentDate.getMonth()),setCurrentYear(currentDate.getFullYear())}),[value]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(WrappedComponent,{...rest,selectedDate:value,currentMonth,currentYear,minDate,maxDate,onDateSelect:date=>{(0,_utils_dateHelpers__WEBPACK_IMPORTED_MODULE_2__.xR)(date,minDate,maxDate)&&onSelect?.(date)},onMonthChange:(newMonth,newYear)=>{setCurrentMonth(newMonth),setCurrentYear(newYear)}})}}}}]);
//# sourceMappingURL=components-date-picker-date-picker-stories.ff41a104.iframe.bundle.js.map